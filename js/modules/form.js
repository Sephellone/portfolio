const form=document.querySelector("#contacts-form"),submitButton=document.querySelector('[type="submit"]'),disableSubmitButton=()=>{submitButton&&(submitButton.disabled=!0)},enableSubmitButton=()=>{submitButton&&(submitButton.disabled=!1)},onSuccess=()=>{form.reset();const t=document.createElement("div");t.classList.add("form__submit-message"),t.classList.add("success"),t.textContent="Сообщение отправлено",form.append(t),setTimeout((()=>{t.remove(),enableSubmitButton()}),2e3)},onFail=()=>{const t=document.createElement("div");t.classList.add("form__submit-message"),t.classList.add("fail"),t.textContent="Что-то пошло не так, попробуйте еще раз",form.append(t),setTimeout((()=>{enableSubmitButton(),t.remove()}),2e3)},sendData=async(t,e,s,o)=>{try{(await fetch(t.target.action,{method:form.method,body:e,headers:{Accept:"application/json"}})).ok&&s()}catch(t){o()}},setFormSubmit=()=>{form&&form.addEventListener("submit",(t=>{t.preventDefault(),submitButton&&(submitButton.disabled=!0);const e=new FormData(t.target);sendData(t,e,onSuccess,onFail)}))};export{setFormSubmit};