import{ScrollLock}from"./../vendor/scroll-lock.js";import{FocusLock}from"./../vendor/focus-lock.js";const header=document.querySelector("[data-header]"),burgerButton=document.querySelector("[data-burger]"),menuClosers=document.querySelectorAll("[data-close-menu]"),scrollLock=new ScrollLock,focusLock=new FocusLock,openMenu=()=>{scrollLock.disableScrolling(),header.classList.add("open"),focusLock.lock("[data-header]"),burgerButton.blur()},closeMenu=()=>{header.classList.remove("open"),scrollLock.enableScrolling(),focusLock.unlock("[data-header]"),burgerButton.blur()},burgerClickHandler=()=>{header.classList.contains("open")?closeMenu():(scrollLock.disableScrolling(),header.classList.add("open"),focusLock.lock("[data-header]"),burgerButton.blur())},menuClosersClickHandler=()=>{header.classList.contains("open")&&closeMenu()},closestClickHandler=e=>{e.target===burgerButton.closest("[data-header]")&&header.classList.contains("open")&&closeMenu()},initBurger=()=>{header&&burgerButton&&(burgerButton.addEventListener("click",burgerClickHandler),burgerButton.closest("[data-header]").addEventListener("click",closestClickHandler),menuClosers&&menuClosers.length&&menuClosers.forEach((e=>{e.addEventListener("click",menuClosersClickHandler)})),window.addEventListener("resize",(()=>{window.innerWidth>=768&&closeMenu()})))};export{initBurger};